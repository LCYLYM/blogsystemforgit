{% extends 'base.html' %}
{% block head %}
<meta name="description" content="{{ blogBase['subTitle'] }}">
<meta property="og:title" content="{{ blogBase['title'] }}">
<meta property="og:description" content="{{ blogBase['subTitle'] }}">
<meta property="og:type" content="blog">
<meta property="og:url" content="{{ blogBase['homeUrl'] }}">
<meta property="og:image" content="{{ blogBase['ogImage'] }}">
<title>{{ blogBase['title'] }}</title>
{% endblock %}

{% block style %}
{{ blogBase['indexStyle'] }}
{% endblock %}

{% block header %}
<div class="text-3xl font-black tracking-tighter cursor-pointer select-none" onclick="setTheme('ethereal')">
    <span id="logo-text">VOID.</span>
</div>

<div class="flex gap-4 items-center">
    <!-- Theme switcher -->
    <div class="flex gap-2 items-center bg-white/5 backdrop-blur-md px-2 py-2 rounded-full border border-white/10 shadow-2xl">
        <button onclick="setTheme('ethereal')" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition" title="虚空流体">
            <i data-lucide="droplets" class="w-5 h-5"></i>
        </button>
        <button onclick="setTheme('cyber')" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition" title="赛博故障">
            <i data-lucide="terminal-square" class="w-5 h-5"></i>
        </button>
        <button onclick="setTheme('oil')" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition" title="印象派油画">
            <i data-lucide="palette" class="w-5 h-5"></i>
        </button>
    </div>

    <!-- Site links -->
    <a href="{{ blogBase['homeUrl'] }}/tag.html" class="px-4 py-2 rounded-full border border-white/10 hover:bg-white/5 transition text-sm" title="{{ i18n['Search'] }}">
        <span class="inline-flex items-center gap-2"><i data-lucide="search" class="w-4 h-4"></i>Tag</span>
    </a>

    {% for num in blogBase['singeListJson'] -%}
    <a href="{{ blogBase['homeUrl'] }}/{{ blogBase['singeListJson'][num]['labels'][0] }}.html" class="px-4 py-2 rounded-full border border-white/10 hover:bg-white/5 transition text-sm" title="{{ blogBase['singeListJson'][num]['postTitle'] }}">
        <span class="inline-flex items-center gap-2"><i data-lucide="file-text" class="w-4 h-4"></i>{{ blogBase['singeListJson'][num]['labels'][0] }}</span>
    </a>
    {%- endfor %}

    {% for key, value in blogBase['exlink'].items() -%}
    <a href="{{ value }}" class="px-4 py-2 rounded-full border border-white/10 hover:bg-white/5 transition text-sm" title="{{ key }}" target="_blank" rel="noopener noreferrer">
        <span class="inline-flex items-center gap-2"><i data-lucide="external-link" class="w-4 h-4"></i>{{ key }}</span>
    </a>
    {%- endfor %}

    <a href="{{ blogBase['homeUrl'] }}/rss.xml" target="_blank" class="px-4 py-2 rounded-full border border-white/10 hover:bg-white/5 transition text-sm" title="RSS" rel="noopener noreferrer">
        <span class="inline-flex items-center gap-2"><i data-lucide="rss" class="w-4 h-4"></i>RSS</span>
    </a>
</div>
{% endblock %}

{% block content %}
<!-- Hero -->
<header class="mb-24 mt-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
    <div>
        <div class="inline-block mb-4 px-3 py-1 border rounded-full text-xs font-mono uppercase tracking-widest opacity-60" id="hero-tag">
            System.Status: Online
        </div>
        <h1 class="text-6xl md:text-8xl font-black mb-8 leading-tight tracking-tight select-none" id="hero-title">
            BEYOND<br>REALITY
        </h1>
        <p class="text-lg md:text-xl opacity-70 max-w-md leading-relaxed" id="hero-desc">{{ blogBase['subTitle'] }}</p>
        <div class="mt-10 flex gap-6">
            <a href="#blog-grid" class="px-8 py-3 bg-current text-black font-bold hover:opacity-80 transition-opacity rounded-full">
                开始探索
            </a>
        </div>
    </div>
    <div class="relative h-[400px] w-full hidden lg:block">
        <div class="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-3xl backdrop-blur-xl border border-white/10" id="hero-visual"></div>
    </div>
</header>

<!-- Posts grid -->
<div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 3rem;" id="blog-grid">
    {% for num in postListJson -%}
    <a href="{{ postListJson[num]['postUrl']|e }}" class="card flex flex-col h-full group cursor-pointer">
        <div class="h-48 overflow-hidden relative">
            <img src="{{ postListJson[num]['ogImage'] }}" alt="{{ postListJson[num]['postTitle']|e }}" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-in-out">
            <div class="absolute top-4 left-4 bg-black/50 backdrop-blur-md text-white text-[10px] font-bold px-2 py-1 rounded border border-white/20">
                {% if postListJson[num]['labels']|length > 0 %}{{ postListJson[num]['labels'][0] }}{% else %}POST{% endif %}
            </div>
        </div>

        <div class="p-6 flex flex-col flex-grow relative z-10">
            <div class="text-xs opacity-50 mb-3 font-mono">{{ postListJson[num]['createdDate'] }}</div>
            <h3 class="text-2xl font-bold mb-3 leading-tight" style="color: inherit;">
                {{ postListJson[num]['postTitle']|e }}
            </h3>
            <p class="opacity-70 text-sm leading-relaxed mb-6">{{ postListJson[num]['description']|e }}</p>
            <div class="mt-auto flex items-center text-xs font-bold uppercase tracking-widest opacity-60 group-hover:opacity-100 transition-opacity">
                Read More <i data-lucide="arrow-up-right" class="w-4 h-4 ml-1"></i>
            </div>
        </div>
    </a>
    {%- endfor %}
</div>

{%- if blogBase['prevUrl']!='disabled' or blogBase['nextUrl']!='disabled' -%}
<nav class="paginate-container" aria-label="Pagination">
    <div class="pagination">
        {%- if blogBase['prevUrl']=='disabled' -%}
        <span class="previous_page" aria-disabled="true">{{ i18n['Previous'] }}</span>
        {% else -%}
        <a class="previous_page" rel="previous" href="{{ blogBase['homeUrl'] }}{{ blogBase['prevUrl'] }}" aria-label="Previous Page">{{ i18n['Previous'] }}</a>
        {%- endif -%}

        {%- if blogBase['nextUrl']=='disabled' -%}
        <span class="next_page" aria-disabled="true">{{ i18n['Next'] }}</span>
        {% else -%}
        <a class="next_page" rel="next" href="{{ blogBase['homeUrl'] }}{{ blogBase['nextUrl'] }}" aria-label="Next Page">{{ i18n['Next'] }}</a>
        {%- endif -%}

    </div>
</nav>
{%- endif %}
{% endblock %}

{% block script %}
<script>
// Entrance animation
if(window.anime){
    window.anime({
        targets: '.card',
        translateY: [50, 0],
        opacity: [0, 1],
        delay: window.anime.stagger(100),
        duration: 800,
        easing: 'easeOutExpo'
    });
}
</script>
{{ blogBase['indexScript'] }}
{% endblock %}
